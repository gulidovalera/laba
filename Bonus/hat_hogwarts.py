import random

class HogwartsQuiz:
    def __init__(self):
        self.questions = [
    {
        "question": "Вы обнаружили горного тролля в школе. Ваши действия?",
        "options": [
            ("Ищу способ использовать это себе на пользу", "Слизерин", 1),
            ("Бросаюсь в бой, не раздумывая!", "Гриффиндор", 1),
            ("Достаю телефон и вызываю полицию", "Магл", 1),
            ("Бегу за помощью и гербологическими средствами", "Пуффендуй", 1),
            ("Анализирую слабые места тролля с точки зрения магической теории", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваш подход к учебе?",
        "options": [
            ("Учусь ровно настолько, чтобы быть лучшим", "Слизерин", 1),
            ("Ищу ответы в интернете", "Магл", 1),
            ("Главное - понимание предмета, оценки второстепенны", "Пуффендуй", 1),
            ("Читаю все подряд, даже не относящееся к программе", "Когтевран", 1),
            ("Сдаю экзамены благодаря харизме и удаче", "Гриффиндор", 1)
        ]
    },
    {
        "question": "Как вы относитесь к правилам?",
        "options": [
            ("Слежу за изменениями в законодательстве", "Магл", 1),
            ("Правила созданы для тех, кто не умеет их обходить", "Слизерин", 1),
            ("Да кому нужны эти правила?", "Гриффиндор", 1),
            ("Правила важны, если они справедливы", "Пуффендуй", 1),
            ("Изучаю правила, чтобы понять их логику", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваше любимое занятие в свободное время?",
        "options": [
            ("Чтение и исследования", "Когтевран", 1),
            ("Готовка и уход за растениями/животными", "Пуффендуй", 1),
            ("Квиддич и другие активные занятия", "Гриффиндор", 1),
            ("Видеоигры и соцсети", "Магл", 1),
            ("Сбор информации и стратегическое планирование", "Слизерин", 1)
        ]
    },
    {
        "question": "Как вы принимаете решения?",
        "options": [
            ("Под влиянием эмоций и принципов", "Гриффиндор", 1),
            ("Тщательно взвесив все за и против", "Слизерин", 1),
            ("Практично и с учетом реальных возможностей", "Пуффендуй", 1),
            ("На основе теоретических знаний и логики", "Когтевран", 1),
            ("Консультируюсь с Google", "Магл", 1)
        ]
    },
    {
        "question": "Ваша реакция на несправедливость?",
        "options": [
            ("Немедленно вмешаюсь, даже если это мне навредит!", "Гриффиндор", 1),
            ("Напишу гневный пост в соцсетях", "Магл", 1),
            ("Разработаю хитрый план, как исправить ситуацию с выгодой для себя", "Слизерин", 1),
            ("Обращусь к авторитетам и буду настойчиво добиваться правды", "Пуффендуй", 1),
            ("Проведу исследование причин и предложу системное решение", "Когтевран", 1)
        ]
    },
    {
        "question": "Как вы ведете себя в команде?",
        "options": [
            ("Работаю удаленно через Zoom", "Магл", 1),
            ("Беру на себя лидерство и вдохновляю других", "Гриффиндор", 1),
            ("Стараюсь получить максимальную выгоду от сотрудничества", "Слизерин", 1),
            ("Выполняю свою часть работы добросовестно", "Пуффендуй", 1),
            ("Анализирую сильные стороны каждого члена команды", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваше отношение к запретной секции библиотеки?",
        "options": [
            ("Немедленно туда отправлюсь из любопытства!", "Гриффиндор", 1),
            ("Изучу, как получить доступ, не будучи пойманным", "Слизерин", 1),
            ("Пойду только если это действительно необходимо", "Пуффендуй", 1),
            ("Составлю список книг, которые хочу там изучить", "Когтевран", 1),
            ("Предпочитаю электронные книги", "Магл", 1)
        ]
    },
    {
        "question": "Что вы делаете, когда видите плачущего однокурсника?",
        "options": [
            ("Немедленно подхожу и предлагаю помощь", "Гриффиндор", 1),
            ("Выясняю, может ли это быть мне полезно", "Слизерин", 1),
            ("Делаю селфи и ставлю хештег #грустно", "Магл", 1),
            ("Предлагаю шоколадную лягушку и выслушиваю", "Пуффендуй", 1),
            ("Анализирую возможные причины и лучший способ помочь", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваш подход к экзаменам?",
        "options": [
            ("Надеюсь на удачу и свою харизму", "Гриффиндор", 1),
            ("Учу ровно столько, чтобы получить высший балл", "Слизерин", 1),
            ("Тщательно готовлюсь, но без лишнего стресса", "Пуффендуй", 1),
            ("Изучаю предмет глубже, чем требует программа", "Когтевран", 1),
            ("Пользуюсь шпаргалками в телефоне", "Магл", 1)
        ]
    },
    {
        "question": "Как вы относитесь к риску?",
        "options": [
            ("Риск - это весело!", "Гриффиндор", 1),
            ("Страхуюсь в трех разных компаниях", "Магл", 1),
            ("Иду на риск только с четким планом отступления", "Слизерин", 1),
            ("Предпочитаю проверенные методы", "Пуффендуй", 1),
            ("Рассчитываю вероятность успеха перед действием", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваша комната была бы украшена...",
        "options": [
            ("Гаджетами и постерами из фильмов", "Магл", 1),
            ("Гербом факультета и трофеями", "Гриффиндор", 1),
            ("Дорогими и статусными вещами", "Слизерин", 1),
            ("Домашними растениями и уютными подушками", "Пуффендуй", 1),
            ("Книжными полками и необычными артефактами", "Когтевран", 1)
        ]
    },
    {
        "question": "Как вы ведете дневник?",
        "options": [
            ("Какие дневники? Я живу впечатлениями!", "Гриффиндор", 1),
            ("Записываю только важную информацию о людях и событиях", "Слизерин", 1),
            ("Веду блог в Instagram", "Магл", 1),
            ("Аккуратно фиксирую важные события", "Пуффендуй", 1),
            ("Веду несколько дневников по разным темам", "Когтевран", 1)
        ]
    },
    {
        "question": "Ваша реакция на новое заклинание?",
        "options": [
            ("Немедленно попробую, не читая инструкций!", "Гриффиндор", 1),
            ("Ищу мобильное приложение с аналогичной функцией", "Магл", 1),
            ("Изучу все возможные применения и последствия", "Слизерин", 1),
            ("Потренируюсь осторожно, пока не освою", "Пуффендуй", 1),
            ("Проанализирую его магическую теорию", "Когтевран", 1)
        ]
    },
    {
        "question": "Какой предмет вас больше всего интересует?",
        "options": [
            ("Защита от Тёмных Искусств", "Гриффиндор", 1),
            ("Зельеварение", "Слизерин", 1),
            ("Уход за магическими существами", "Пуффендуй", 1),
            ("Трансфигурация", "Когтевран", 1),
            ("Компьютерные технологии", "Магл", 1)
        ]
    }
]
        self.house_points = {
            "Гриффиндор": 0,
            "Слизерин": 0,
            "Пуффендуй": 0,
            "Когтевран": 0,
            "Магл": 0
        }
        self.house_descriptions = {
            "Гриффиндор": "Вы человек действия, который сначала делает, потом думает. Ваше сердце управляет разумом - принципы важнее прагматизма. В критической ситуации все ищут вашей поддержки. Иногда вас считают безрассудным, но именно вы совершаете невозможное. Ваш девиз: Лучше попробовать и пожалеть, чем жалеть, что не попробовал. В обычной жизни вы вероятно спортсмен, активист или защитник слабых",
            "Слизерин": "Вы стратег, всегда просчитываете несколько ходов вперед. Умеете использовать любую ситуацию себе на пользу. Ваша сильная сторона - холодный расчет, а не эмоции. Вас часто неправильно понимают, принимая за эгоиста. На самом деле вы просто знаете себе цену. В реальной жизни вы бы преуспели в бизнесе, политике или юриспруденции. Ваш секрет: вы вовсе не злой, просто эффективный",
            "Пуффендуй": "Вы - сама надежность, на вас можно положиться. Цените простые радости и искренние отношения. Ваша сила - в упорстве, вы как скала посреди бури. Может, вы не самый яркий, но точно самый душевный. Вас любят животные и дети - лучший показатель характера. В жизни вы вероятно отличный друг, родитель или профессионал своего дела. Ваша философия: Тише едешь - дальше будешь",
            "Когтевран": "Ваш главный орган - мозг, вы живете идеями. Часто витаете в облаках, но при этом находите гениальные решения. Вас считают чудаком, но именно к вам идут за советом. Ваша любознательность не знает границ. В обычной жизни вы вероятно ученый, писатель или изобретатель. Ваша слабость: иногда слишком много думаете и мало делаете. Ваш принцип: Знание - сила, но мудрость - власть",
            "Магл": "Вы трезво смотрите на мир без розовых очков. Технологии для вас - естественная среда обитания. Вам чужды магические предрассудки, вы верите в науку. Вас можно назвать реалистом до мозга костей. В критической ситуации первым делом полезете в интернет. Ваши плюсы: гибкость мышления и умение находить простые решения. Ваш девиз: Зачем волшебная палочка, если есть смартфон? "
        }

    def run_quiz(self):
        print("Добро пожаловать в Распределяющую Викторину Хогвартса!\n")
        print("Отвечайте на вопросы, выбирая номер варианта. В конце узнаете, к какому факультету вы принадлежите!\n")
        
        # Перемешиваем вопросы для разнообразия
        random.shuffle(self.questions)
        
        # Ограничим количество вопросов до 10 для удобства
        selected_questions = self.questions[:10]
        
        for question in selected_questions:
            print(question["question"])
            for i, option in enumerate(question["options"], 1):
                print(f"{i}. {option[0]}")
            
            while True:
                try:
                    choice = int(input("Ваш выбор (1-5): ")) - 1
                    if 0 <= choice <= 4:
                        selected_option = question["options"][choice]
                        self.house_points[selected_option[1]] += selected_option[2]
                        break
                    else:
                        print("Пожалуйста, введите число от 1 до 5.")
                except ValueError:
                    print("Пожалуйста, введите число.")
            
            print()
        
        self.show_results()

    def show_results(self):
        print("\nРезультаты:")
        sorted_houses = sorted(self.house_points.items(), key=lambda x: x[1], reverse=True)
        
        for house, points in sorted_houses:
            print(f"{house}: {points} баллов")
        
        winning_house = sorted_houses[0][0]
        print(f"\nРаспределяющая Шляпа отправляет вас в... {winning_house.upper()}!\n")
        print(self.house_descriptions[winning_house])
        
        # Добавим немного магии :)
        colors = {
            "Гриффиндор": "\033[91m",    # Красный
            "Слизерин": "\033[92m",      # Зеленый
            "Пуффендуй": "\033[93m",     # Желтый
            "Когтевран": "\033[94m",
            "Магл": "\033[95m"
        }
        print(f"{colors[winning_house]}*магические искры*")
        print("\033[0m")  # Сброс цвета

if __name__ == "__main__":
    quiz = HogwartsQuiz()
    quiz.run_quiz()
